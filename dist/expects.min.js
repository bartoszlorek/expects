!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.expects=t():e.expects=t()}(this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var u=n[r]={i:r,l:!1,exports:{}};return e[r].call(u.exports,u,u.exports,t),u.l=!0,u.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=6)}([function(e,t,n){"use strict";function r(e){for(var t=Object.keys(h),n=t.length,r=void 0,u=0;u<n;){if(!1===(r=e(t[u],h[t[u]])))return;if(!i(r))return r;u+=1}}function u(e){return r(function(t,n){if(n(e))return t})}function o(e,t){return Object.prototype.toString.call(t)==="[object "+e+"]"}function i(e){return void 0===e}function f(e){return null===e}function a(e){return e!==e}function c(e){return!a(e)&&o("Number",e)}function l(e){return o("String",e)}function s(e){return o("RegExp",e)}function p(e){return o("Date",e)}function v(e){return!0===e||!1===e||o("Boolean",e)}function d(e){return null!==e&&o("Object",e)&&!y(e)}function y(e){return o("Array",e)}function b(e){return"function"==typeof e||o("Function",e)}Object.defineProperty(t,"__esModule",{value:!0}),t.forEachType=r,t.typeOf=u;var h={string:l,number:c,nan:a,boolean:v,function:b,undefined:i,object:d,array:y,null:f,regex:s,date:p}},function(e,t,n){"use strict";function r(e,t){var n=e.length;return e=e.slice(0,t),n>e.length&&e.push("..."),e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(i.hasOwnProperty(e)){var t=i[e];if("function"==typeof t)return t;throw t}};var u=n(0),o=function(e){return(["a","o","i","e","u","y"].indexOf(e[0])>-1?"an ":"a ")+e},i={expects:function(e,t){var n=(0,u.typeOf)(t);throw"array"===n?t="["+r(t,5)+"]":"object"===n&&(t="{"+r(Object.keys(t),5)+"}"),"`"+t+"` ("+n+") expects to be "+o(e)},name:"first parameter must be a defined name",unique:"first parameter must be a unique name, not already defined",func:"second parameter must be a function",bool:"second parameter must return a boolean value"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){function t(t,n){return"string"==typeof t?e.is(t,n):!!t}function n(e,t){return"string"!=typeof e?r(e,t):e}function r(e,t){var r=a[e[1]];if(void 0!==r){return r(n(e[0],t),n(e[2],t),t)}}function i(t){return"string"!=typeof t?f(t):e.fallback(t)}function f(e){var t=i(e[0]);return void 0===t?i(e[2]):t}if(!e||"function"!=typeof e.typeof)throw"incorrect context of comparison";var a={"|":function(e,n,r){return t(e,r)||t(n,r)},"&":function(e,n,r){return t(e,r)&&t(n,r)}};return function t(n,i){var a=n.type,c=n.value;if("value"===a){if(e.is("string",c))return e.filter(c,i);if(e.is("array",c)){if(r(c,i))return i;var l=f(c);return void 0===l&&(0,u.default)("expects")(n.expression,i),l}}if("array"===a){e.filter("array",i);var s=i.length,p=0;if(c.length>1)for(var v=c.length-1;p<s;)i[p]=t(c[p]||c[v],i[p]),p+=1;else{var d=c[0];if(d.value!==o)for(;p<s;)i[p]=t(d,i[p]),p+=1}return i}if("object"===a){e.filter("object",i);var y=c.map(function(e){return e.prop}),b=y.length,h=void 0,g=0;if(y[0]===o)return i;for(;g<b;){if(h=y[g],!i.hasOwnProperty(h))return"given object doesn't have `"+h+"` property.";c[g].value!==o&&(i[h]=t(c[g],i[h])),g+=1}return i}}};var r=n(1),u=function(e){return e&&e.__esModule?e:{default:e}}(r),o="*"},function(e,t,n){"use strict";function r(e,t,n){return("string"!=typeof e||p.hasOwnProperty(e))&&(0,s.default)("unique"),"function"!=typeof t&&(0,s.default)("func"),"boolean"!=typeof t()&&(0,s.default)("bool"),p[e]={test:t.bind(null),fallback:n},this}function u(e){return"string"==typeof e&&p.hasOwnProperty(e)}function o(e,t){var n=u(e);if(n||t)return n;(0,s.default)("name")}function i(e,t){return o(e),void 0===t?p[e].fallback:(p[e].fallback=t,this)}function f(e,t){return!!o(e,!0)&&p[e].test(t)}function a(e,t){o(e);var n=p[e];if(n.test(t))return t;var r=n.fallback;return void 0===r&&(0,s.default)("expects")(e,t),r}Object.defineProperty(t,"__esModule",{value:!0});var c=n(0),l=n(1),s=function(e){return e&&e.__esModule?e:{default:e}}(l);t.default={typeof:c.typeOf,define:r,exists:u,fallback:i,filter:a,is:f};var p={}},function(e,t,n){"use strict";function r(){var e=m(),t=x(),n=void 0;if(!t||""===e)return c("value",e);if(""===(n=m()))return c("value",e);for(var r={prec:u(t),value:t},o=[e,r,n],i=[e,t,n],f=void 0,a=void 0,l=void 0;(t=x())&&0!==(a=u(t));){for(r={value:t,prec:a};o.length>2&&a<=o[o.length-2].prec;)n=o.pop(),t=o.pop().value,e=o.pop(),f=[e,t,n],o.push(f);f=m(),o.push(r,f),i.push(t,f)}for(l=o.length-1,f=o[l];l>1;)f=[o[l-2],o[l-1].value,f],l-=2;return c({type:"value",value:f,expression:i.join(" ")})}function u(e){return d[e]||0}function o(e){if(e&&e!==h){var t=b.slice(0,y);throw'Expected "'+e+'" instead of "'+h+'" in "'+t+'â–ˆ"'}return y+=1,h=b.charAt(y)}function i(){for(;h&&h<=" ";)o()}function f(e){e.length>1&&(e=e.split(""));var t="string"!=typeof e?function(t){return-1!==e.indexOf(t)}:function(t){return e===t};return function(){for(var e="";h;){if(" "!==h){if(t(h))return e;e+=h}o()}return e}}function a(e,t,n){var r=e[0],u=e[1];return function(){var e=[];for(o(r);h;){if(n(e),h===u){o(u);break}o(",")}return c(t,e)}}function c(e,t){return"string"==typeof e&&(e={type:e,value:t}),e.value||(e.value=v),e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if("string"!=typeof e)throw"first parameter must be a string";e=e.trim();var t=p(e);if(!1!==t)return t;y=0,b=e,h=e[0];var n=_();return p(e,n)};var l=n(5),s=function(e){return e&&e.__esModule?e:{default:e}}(l),p=(0,s.default)(20),v="*",d={"|":1,"&":2},y=void 0,b=void 0,h=void 0,g=f(":,}"),m=f("|&,]}{["),x=function(e){var t=Object.keys(e);return function(){if(-1!==t.indexOf(h)){var e=h;return o(),e}return!1}}(d),O=a("[]","array",function(e){var t=_();e.length>0&&t.value===v||(1===e.length&&e[0].value===v&&(e.length=0),e.push(t),i())}),j=a("{}","object",function(e){var t=g(),n=void 0;if(""!==t||!e.length){if(1===e.length&&e[0].prop===v&&(e.length=0),""===t||":"!==h)return void e.push(c({type:"value",prop:t||v,value:v}));o(":"),n=_(),n.prop=t,e.push(n),i()}}),_=function(){switch(i(),h){case"[":return O();case"{":return j();default:return r()}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e=e||r,function(e,t){if("string"!=typeof e)throw"first parameter must be a string";var n=u.hasOwnProperty(e);return void 0===t?!!n&&u[e]:n?t:(u[e]=t,t)}};var r=10,u={}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if("string"!=typeof e)throw"first parameter must be an expression";return p((0,i.default)(e),t)}var o=n(4),i=r(o),f=n(3),a=r(f),c=n(0),l=n(2),s=r(l),p=(0,s.default)(a.default);(0,c.forEachType)(function(e,t){a.default.define(e,t)}),e.exports=Object.assign(u,a.default)}])});